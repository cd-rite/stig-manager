{
    "name": "STIGMan OSS Dev Container",
    // "image":
    //     "mcr.microsoft.com/devcontainers/universal:2",

	"dockerComposeFile": "docker-compose.yml",
	"service": "devcontainer",
	"workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",

	// Use 'forwardPorts' to make a list of ports inside the container available locally.
	// "forwardPorts": [8080, 64001],
	// "forwardPorts": [
    //     8080, 
    //     64001
    // ],
	"containerEnv": {
		"STIGMAN_CLIENT_OIDC_PROVIDER": "https://${localEnv:CODESPACE_NAME}-8080.${localEnv:GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN}/realms/stigman",
		"STIGMAN_CLIENT_OIDC_PROVIDER2": "https://${CODESPACE_NAME}-8080.${GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN}/",
		// "STIGMAN_OIDC_PROVIDER": "https://${CODESPACE_NAME}-8080.${GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN}/realms/stigman",
		"MY_CONTAINER_VAR2": "${localEnv:GITHUB_REPOSITORY}"
	}
    // Uncomment the next line to run commands after the container is created.
	// "postCreateCommand": "cat /etc/os-release",
	// "postStartCommand": 
	// 	"chmod u+x .devcontainer/postStartCommands.sh ; .devcontainer/postStartCommands.sh"
	
		
    // [
        // "echo ${containerEnv:CODESPACE_NAME}",
        // "echo $CODESPACE_NAME",
    //     "echo $GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN",
    //     "echo $MY_CONTAINER_VAR2",	
    //     "echo $STIGMAN_CLIENT_OIDC_PROVIDER",
    // "docker run --name stig-manager-auth -d -p 8080:8080 -p 8443:8443 -e KC_PROXY=edge -e KC_HOSTNAME_URL=https://$CODESPACE_NAME-8080.$GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN/ -e KC_HOSTNAME_ADMIN_URL=https://$CODESPACE_NAME-8080.$GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN/ nuwcdivnpt/stig-manager-auth", 
    // "docker run --name stig-manager-db -d -p 3306:3306 -e MYSQL_ROOT_PASSWORD=rootpw -e MYSQL_DATABASE=stigman -e MYSQL_USER=stigman -e MYSQL_PASSWORD=stigman  mysql:8 --innodb-buffer-pool-size=512M --sort_buffer_size=100M",
	// "(cd api/source && npm ci)"
    // ],

	// "portsAttributes": {
	// 	"8080": {
	// 		"label": "auth-8080"
	// 	},
	// 	"64001": {
	// 		"label": "stigman-api-64001"
	// 	}        
	// }    
}